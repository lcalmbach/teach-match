<!-- substitution_edit.html -->
{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<div class="col-md-6 offset-md-3">
  <div class="form-container">
    <h2>Stellvertretung erfassen</h2>
    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="btn btn-primary">Speichern</button>
    </form>
  </div>

  <form method="post">
    {% csrf_token %}
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Tag</th>
          <th>Periode</th>
          <th>Lektion</th>
          <th>Klasse</th>
          <th>Stellvertretung</th>
        </tr>
      </thead>
      <tbody>
        {% for form in formset %}
        <tr>
          <td>{{ form.instance.lesson.day.name }}</td>
          <td>{{ form.instance.lesson.period.name }}</td>
          <td>{{ form.instance.lesson.subject.name }}</td>
          <td>{{ form.instance.lesson.school_class.name }}</td>
          <td>{{ form.deputy }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <button type="submit" class="btn btn-primary">Speichern</button>
  </form>
</div>
{% endblock %}
